import{a as j,b as G}from"./chunk-SLBFU76B.js";import{a as L}from"./chunk-Y3QJ5SGF.js";import"./chunk-YTQ4Q3SL.js";import"./chunk-FQ5DK6L3.js";import{b as z,d as R,e as q,f as P,g as H,h as $,o as J,p as K,r as Q}from"./chunk-DAGYDP6H.js";import{i as O}from"./chunk-UKOXNQ6D.js";import{a as W}from"./chunk-3AS5JJD4.js";import{Ba as o,Ca as T,Gb as B,Hb as N,Ib as D,Qa as p,Sa as d,Ta as V,Va as t,Wa as n,Xa as b,Ya as _,Za as y,_ as C,_a as m,cb as M,db as r,eb as h,fb as x,ga as f,gb as k,ha as g,hb as S,ia as v,ib as F,ja as I,kb as A,lb as w}from"./chunk-JKZU3RR7.js";var U=()=>[1,2,3,4,5];function X(i,s){if(i&1){let e=_();t(0,"button",35),y("click",function(){let a=f(e).$implicit,c=m();return g(c.novoFeedback.avaliacao=a)})("mouseenter",function(){let a=f(e).$implicit,c=m();return g(c.hoveredStar=a)})("mouseleave",function(){f(e);let a=m();return g(a.hoveredStar=0)}),v(),t(1,"svg",36),b(2,"path",37),n()()}if(i&2){let e=s.$implicit,l=m();o(),V("fill",l.getStarColor(e))("color",l.getStarColor(e))}}function Y(i,s){if(i&1&&(t(0,"div",38)(1,"p",39),r(2),n()()),i&2){let e=m();o(2),x("\u2713 ",e.mensagemSucesso,"")}}function Z(i,s){if(i&1&&(t(0,"div",40)(1,"p",41),r(2),n()()),i&2){let e=m();o(2),x("\u2717 ",e.mensagemErro,"")}}function ee(i,s){i&1&&(t(0,"span"),r(1,"Enviar Feedback"),n())}function te(i,s){i&1&&(t(0,"span",42),v(),t(1,"svg",43),b(2,"circle",44)(3,"path",45),n(),r(4," Enviando... "),n())}function ne(i,s){i&1&&(v(),t(0,"svg",63),b(1,"path",37),n())}function ie(i,s){i&1&&(v(),t(0,"svg",64),b(1,"path",37),n())}function oe(i,s){if(i&1&&(t(0,"span"),p(1,ne,2,0,"svg",61)(2,ie,2,0,"svg",62),n()),i&2){let e=s.$implicit,l=m().$implicit;o(),d("ngIf",e<=l.avaliacao),o(),d("ngIf",e>l.avaliacao)}}function ae(i,s){if(i&1&&(t(0,"div",65)(1,"p",66),r(2,"Resposta da Barbearia:"),n(),t(3,"p",67),r(4),n()()),i&2){let e=m().$implicit;o(4),h(e.respostaAdmin)}}function re(i,s){if(i&1&&(t(0,"div",46)(1,"div",47)(2,"div",48),p(3,oe,3,2,"span",49),n()(),t(4,"div",50),v(),t(5,"svg",51),b(6,"path",52),n()(),I(),t(7,"p",53),r(8),n(),t(9,"div",54)(10,"div",55)(11,"span",56),r(12),n()(),t(13,"div",57)(14,"p",58),r(15),n(),t(16,"p",59),r(17),n()()(),p(18,ae,5,1,"div",60),n()),i&2){let e=s.$implicit,l=m();o(3),d("ngForOf",w(6,U)),o(5),x('"',e.comentario,'"'),o(4),h(e.nome.charAt(0)),o(3),h(e.nome),o(2),h(l.formatarData(e.criadoEm)),o(),d("ngIf",e.respostaAdmin)}}function le(i,s){i&1&&(t(0,"div",68)(1,"p",69),r(2,"Ainda n\xE3o h\xE1 feedbacks publicados."),n()())}var xe=(()=>{class i{constructor(e){this.apiService=e,this.feedbacks=[],this.whatsappNumber="5531995729646",this.enviando=!1,this.mensagemSucesso="",this.mensagemErro="",this.hoveredStar=0,this.novoFeedback={nome:"",avaliacao:0,comentario:""}}ngOnInit(){window.scrollTo({top:0,behavior:"instant"}),this.carregarFeedbacks()}carregarFeedbacks(){this.apiService.get("feedbacks",{apenasAprovados:!0}).subscribe({next:e=>{this.feedbacks=e},error:e=>{console.error("Erro ao carregar feedbacks:",e)}})}enviarFeedback(){!this.novoFeedback.nome||!this.novoFeedback.comentario||this.novoFeedback.avaliacao===0||(this.enviando=!0,this.mensagemErro="",this.mensagemSucesso="",this.apiService.post("feedbacks",this.novoFeedback).subscribe({next:e=>{this.mensagemSucesso="Obrigado pelo seu feedback! Ele ser\xE1 analisado e publicado em breve.",this.novoFeedback={nome:"",avaliacao:0,comentario:""},this.enviando=!1,setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},2e3)},error:e=>{console.error("Erro ao enviar feedback:",e),this.mensagemErro="Erro ao enviar depoimento. Tente novamente.",this.enviando=!1}}))}getAvaliacaoTexto(){switch(this.novoFeedback.avaliacao){case 1:return"P\xE9ssimo";case 2:return"Ruim";case 3:return"Regular";case 4:return"Bom";case 5:return"Excelente";default:return"Selecione uma avalia\xE7\xE3o"}}formatarData(e){return new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})}getStarColor(e){return this.hoveredStar>0?e<=this.hoveredStar?"#fbbf24":"#d1d5db":e<=this.novoFeedback.avaliacao?"#fbbf24":"#d1d5db"}static{this.\u0275fac=function(l){return new(l||i)(T(W))}}static{this.\u0275cmp=C({type:i,selectors:[["app-feedbacks"]],standalone:!0,features:[A],decls:50,vars:15,consts:[["feedbackForm","ngForm"],[1,"min-h-screen","bg-gray-100","dark:bg-gray-900","transition-colors","duration-300"],[1,"pt-24","md:pt-32","pb-12","md:pb-20","bg-gradient-to-br","from-primary","via-charcoal-900","to-primary","text-white"],[1,"container","mx-auto","px-4","text-center"],[1,"text-3xl","sm:text-4xl","md:text-5xl","font-bold","mb-3","md:mb-4","font-display","px-4"],[1,"gradient-text"],[1,"text-base","sm:text-lg","md:text-xl","text-gray-300","max-w-2xl","mx-auto","px-4"],[1,"py-12","md:py-20","bg-gray-100","dark:bg-gray-900","transition-colors","duration-300"],[1,"container","mx-auto","px-4"],[1,"max-w-2xl","mx-auto"],[1,"card","shadow-elegant-lg"],[1,"text-3xl","font-bold","mb-6","text-center","text-primary","font-display"],[3,"ngSubmit"],[1,"mb-6"],["for","nome",1,"block","text-sm","font-semibold","text-charcoal-700","mb-2"],["type","text","id","nome","name","nome","required","","placeholder","Digite seu nome completo",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-secondary","focus:border-transparent","transition-all",3,"ngModelChange","ngModel"],[1,"block","text-sm","font-semibold","text-charcoal-700","mb-3"],[1,"flex","justify-center","space-x-2","mb-2"],["type","button","class","transition-all transform hover:scale-125 cursor-pointer",3,"click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"text-sm","text-center","text-charcoal-500"],["for","comentario",1,"block","text-sm","font-semibold","text-charcoal-700","mb-2"],["id","comentario","name","comentario","required","","rows","5","maxlength","500","placeholder","Conte sua experi\xEAncia conosco na Corte & Tradi\xE7\xE3o...",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-secondary","focus:border-transparent","transition-all","resize-none",3,"ngModelChange","ngModel"],[1,"text-xs","text-charcoal-500","mt-1","text-right"],["class","mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",4,"ngIf"],["class","mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn-primary","text-lg","px-10","py-4","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[4,"ngIf"],["class","flex items-center justify-center",4,"ngIf"],[1,"py-20","bg-gradient-to-b","from-gray-50","to-white","dark:from-gray-800","dark:to-gray-900","transition-colors","duration-300"],[1,"text-3xl","md:text-4xl","font-bold","text-center","mb-12","text-primary","dark:text-white","font-display"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-8"],["class","card hover:shadow-elegant-lg transition-all duration-300 animate-fade-in-up",4,"ngFor","ngForOf"],["class","text-center py-12",4,"ngIf"],[3,"phoneNumber","message"],["type","button",1,"transition-all","transform","hover:scale-125","cursor-pointer",3,"click","mouseenter","mouseleave"],["viewBox","0 0 20 20",1,"w-12","h-12","transition-colors"],["d","M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"],[1,"mb-4","p-4","bg-green-50","border","border-green-200","rounded-lg"],[1,"text-green-800","font-semibold"],[1,"mb-4","p-4","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-red-800","font-semibold"],[1,"flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-primary"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"card","hover:shadow-elegant-lg","transition-all","duration-300","animate-fade-in-up"],[1,"flex","items-center","mb-4"],[1,"flex"],[4,"ngFor","ngForOf"],[1,"mb-4"],["fill","currentColor","viewBox","0 0 24 24",1,"w-10","h-10","text-secondary/20"],["d","M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.996 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.984zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"],[1,"text-charcoal-700","mb-6","italic","leading-relaxed"],[1,"flex","items-center","pt-4","border-t","border-gray-100"],[1,"w-12","h-12","bg-gradient-to-br","from-secondary","to-gold-600","rounded-full","flex","items-center","justify-center","mr-4"],[1,"text-primary","font-bold","text-lg"],[1,"flex-1"],[1,"font-semibold","text-primary"],[1,"text-sm","text-charcoal-500"],["class","mt-4 pt-4 border-t border-gray-100",4,"ngIf"],["class","w-5 h-5","style","fill: #fbbf24; color: #fbbf24;","viewBox","0 0 20 20",4,"ngIf"],["class","w-5 h-5","style","fill: #d1d5db; color: #d1d5db;","viewBox","0 0 20 20",4,"ngIf"],["viewBox","0 0 20 20",1,"w-5","h-5",2,"fill","#fbbf24","color","#fbbf24"],["viewBox","0 0 20 20",1,"w-5","h-5",2,"fill","#d1d5db","color","#d1d5db"],[1,"mt-4","pt-4","border-t","border-gray-100"],[1,"text-sm","font-semibold","text-secondary","mb-2"],[1,"text-sm","text-charcoal-600","italic"],[1,"text-center","py-12"],[1,"text-charcoal-600","text-lg"]],template:function(l,a){if(l&1){let c=_();t(0,"div",1),b(1,"app-header"),t(2,"section",2)(3,"div",3)(4,"h1",4)(5,"span",5),r(6,"Feedbacks"),n()(),t(7,"p",6),r(8," Sua opini\xE3o \xE9 muito importante para n\xF3s! Deixe seu feedback e ajude outros clientes a conhecerem nosso trabalho. "),n()()(),t(9,"section",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"h2",11),r(14," Deixe Seu Feedback "),n(),t(15,"form",12,0),y("ngSubmit",function(){return f(c),g(a.enviarFeedback())}),t(17,"div",13)(18,"label",14),r(19," Seu Nome * "),n(),t(20,"input",15),F("ngModelChange",function(u){return f(c),S(a.novoFeedback.nome,u)||(a.novoFeedback.nome=u),g(u)}),n()(),t(21,"div",13)(22,"label",16),r(23," Sua Avalia\xE7\xE3o * "),n(),t(24,"div",17),p(25,X,3,4,"button",18),n(),t(26,"p",19),r(27),n()(),t(28,"div",13)(29,"label",20),r(30," Seu Depoimento * "),n(),t(31,"textarea",21),F("ngModelChange",function(u){return f(c),S(a.novoFeedback.comentario,u)||(a.novoFeedback.comentario=u),g(u)}),n(),t(32,"p",22),r(33),n()(),p(34,Y,3,1,"div",23)(35,Z,3,1,"div",24),t(36,"div",25)(37,"button",26),p(38,ee,2,0,"span",27)(39,te,5,0,"span",28),n()()()()()()(),t(40,"section",29)(41,"div",8)(42,"h2",30)(43,"span",5),r(44,"Feedbacks"),n()(),t(45,"div",31),p(46,re,19,7,"div",32),n(),p(47,le,3,0,"div",33),n()(),b(48,"app-footer")(49,"app-whatsapp-button",34),n()}if(l&2){let c=M(16);o(20),k("ngModel",a.novoFeedback.nome),o(5),d("ngForOf",w(14,U)),o(2),x(" ",a.getAvaliacaoTexto()," "),o(4),k("ngModel",a.novoFeedback.comentario),o(2),x(" ",a.novoFeedback.comentario.length,"/500 caracteres "),o(),d("ngIf",a.mensagemSucesso),o(),d("ngIf",a.mensagemErro),o(2),d("disabled",a.enviando||c.invalid||a.novoFeedback.avaliacao===0),o(),d("ngIf",!a.enviando),o(),d("ngIf",a.enviando),o(7),d("ngForOf",a.feedbacks),o(),d("ngIf",a.feedbacks.length===0),o(2),d("phoneNumber",a.whatsappNumber)("message","Ol\xE1! Fiquei interessado no site que voc\xEAs desenvolveram. Gostaria de saber mais informa\xE7\xF5es sobre como ter um site profissional igual para o meu neg\xF3cio. Podem me ajudar?")}},dependencies:[D,B,N,O,Q,$,z,R,q,J,K,H,P,j,G,L],encapsulation:2})}}return i})();export{xe as FeedbacksComponent};
